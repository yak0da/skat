Написать класс (или функцию) — параметрический декоратор @Matchable(…), которому предаются типы полей (ноль или больше). @Matchable(тип1, тип2, …) модифицирует декорируемый класс, добавляя туда возможность позиционного сопоставления полей в операторе match / case. Поля для позиционного сопоставления берутся из аннотации класса в порядке появления в ней; в сопоставлении участвуют только поля одного из заданных типов — тип1, тип2 и т. д.


@Matchable(int, float)
class C:
    a: int
    s: str
    d: float

    def __init__(self, a, s, d):
        self.a, self.s, self.d = a, s, d

for A in (C(1, "2", 3), C(3, 3, 4), C(2, "Q", 3)):
    match A:
        case C(1):
            print("One")
        case C(_, 3):
            print("Three")
        case _:
            print("Other")

One
Other
Three
