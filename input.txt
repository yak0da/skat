
1. Напишите (в очередной раз ☹) класс Square(x, y, w) со следующими свойствами:

x и y — это координаты левой нижней вершины квадрата, а w — его ширина

Дополнительно поддерживаются поля h (равное w), s (равное площади квадрата) и center (кортеж с координатами середины квадрата)

Все поля, кроме s, можно менять

попытка изменить площадь ни к чему не приводит ничего не происходит
изменение центра или координат вершины влияют друг на друга, а ширина и высота остаются прежней
изменение ширины или высоты не влияют на координаты вершины, но сдвигают центр
Поле center должно поддерживать операцию добавления кортежа из двух чисел — это смещение середины квадрата

При сопоставлении в операторе match / case все эти поля можно использовать как именные параметры, а x, y и w — как позиционные

Input:

   1 for x, y, w in (1, 2, 0), (1, 1, 7), (3, 4, 10), (5, 3, 6):
   2     Sq = Square(x, y, w)
   3     Sq.center += -1, -1
   4     match Sq:
   5         case Square(_, _, 0):
   6             print("Zero square")
   7         case Square(0, 0, _):
   8             print("Started from 0")
   9         case Square(s=100):
  10             print("10x10 square")
  11         case Square(center=c) if c[0] == round(c[0]) and c[1] == round(c[1]):
  12             print("Even-sized square")
Output:

Zero square
Started from 0
10x10 square
Even-sized square


2. Написать декоратор класса под названием sizer, который будет добавлять в класс поле size. При обращении к этому полю возвращается len() объекта, если объект имеет длину, иначе же abs() объекта, если от него вычисляется модуль, и 0 в противном случае. Если в объекте присвоить этому полю некоторое значение, будет возвращаться это значение до тех пор, пока поле не удалят.

Input:

   1 @sizer
   2 class S(list):
   3     pass
   4 
   5 @sizer
   6 class N(complex):
   7     pass
   8 
   9 @sizer
  10 class E(Exception):
  11     pass
  12 
  13 for obj in S("QWER"), N(3+4j), E("Exceptions know no lengths!"):
  14     print(obj, obj.size)
  15 p = S(range(10, 15))
  16 print(p.size)
  17 p.size = p.pop()
  18 print(p.size)
  19 del p.size
  20 print(p.size)
Output:

['Q', 'W', 'E', 'R'] 4
(3+4j) 5.0
Exceptions know no lengths! 0
5
14
4